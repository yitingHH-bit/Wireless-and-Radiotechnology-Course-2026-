Experiment 1: Increase gateway height by +5 m

Q: Does maximum LOS distance change?
Yes. LOS distance increases because LOS ≈ 3.57*(sqrt(htx)+sqrt(hrx)) km, so higher htx increases the horizon.

Q: Does link feasibility improve significantly? Why?
Not significantly in this script, because the path-loss model (log-distance with exponent n) does not directly include antenna height. Height mainly improves geometry (LOS) and can improve Fresnel/obstacle clearance in real deployments, but it does not shift the Prx curve here (unless a height-dependent model/terrain is used).

Experiment 2: Increase antenna gain to 5 dBi (both TX and RX)

Q: How does the received power curve change?
The whole curve shifts upward by about +6 dB total (TX gain +3 dB and RX gain +3 dB compared to 2 dBi baseline).

Q: How much additional range is achieved?
Use the printed “Max feasible range” numbers from the helper code. Range increases because the curve crosses the sensitivity line at a larger distance.

Q: Why does antenna gain extend coverage?
Higher gain increases EIRP and received power without increasing noise power. So SINR increases, and the link stays above receiver sensitivity for longer distance.

Experiment 3: Change environment exponent n (2.0 / 3.5 / 4.0)

Q: How does increasing n affect coverage?
Increasing n makes path loss grow faster with distance, so the received power drops more steeply and coverage decreases.

n = 2.0 (free-space-ish) -> best range

n = 3.5 or 4.0 (dense/urban-ish) -> much shorter range

Q: Which has stronger impact on range: gain increase or environment change? Explain physically.
Usually the environment exponent has a stronger impact because it changes the slope of path loss vs distance (distance penalty becomes much larger). Antenna gain gives a fixed dB improvement (vertical shift), while increasing n makes loss increase faster with distance (can reduce range dramatically).

Experiment 4: Move obstacle position (Fresnel study)

Q: Where is Fresnel radius largest?
At the midpoint of the link (x = 0.5D). Fresnel radius formula r = sqrt(lambdax(D-x)/D) is maximized when x*(D-x) is max, which happens at x = D/2.

Q: Why is midpoint usually critical?
Because Fresnel zone bulges the most at the middle, so obstacles near the midpoint are more likely to block a large part of the Fresnel zone.

Q: What happens if the 60% clearance rule is violated?
If the obstacle intrudes too much into the Fresnel zone, diffraction and additional loss increase. In practice this can cause fading, unstable link, reduced throughput, or complete link failure even if simple received-power calculations look OK.


In practical wireless deployment, the environment/propagation conditions (path-loss exponent and obstruction/Fresnel clearance) often have the strongest impact on coverage. Antenna gain helps by adding a fixed link-budget improvement, but harsh environments increase loss rapidly with distance and can reduce range drastically. Increasing gateway height mainly improves LOS and Fresnel clearance rather than shifting the path-loss curve in this simplified model. Therefore, site selection (clearance, obstacles, environment type) is usually more critical than small antenna or height adjustments.
